/*C2*/SET SCHEMA PUBLIC
create table usuario(\u000a\u0009id integer GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) primary key,\u000a\u0009nombre varchar(20) unique,\u000a\u0009password varchar(20),\u000a\u0009tipo char(2),\u000a\u0009check (tipo in ('UB','UA','A'))\u000a)
\u000a\u000acreate table tecnica(\u000a\u0009id integer GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) primary key,\u000a\u0009nombre varchar(20) unique,\u000a\u0009tipo char(3),\u000a\u0009check (tipo in ('rec','reu','rev','ret'))\u000a)
\u000acreate table caso(\u000a\u0009id integer GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) primary key,\u000a\u0009nombre varchar(20) unique,\u000a)
create table caso_tecnica(\u000a\u0009id_caso integer references caso,\u000a\u0009id_tecnica integer references tecnica,\u000a\u0009primary key(id_caso, id_tecnica)\u000a)
create table caso_usuario(\u000a\u0009id_caso integer references caso,\u000a\u0009id_usuario integer references usuario,\u000a\u0009primary key(id_caso, id_usuario)\u000a)
create table atributo(\u000a\u0009nombre varchar(20),\u000a\u0009tipo varchar(20),\u000a\u0009peso decimal,\u000a\u0009metrica varchar(20),\u000a\u0009caso integer references caso on delete cascade,\u000a\u0009primary key (nombre,caso)\u000a)
INSERT INTO TECNICA VALUES(1,'K-NN','rec')
COMMIT
INSERT INTO TECNICA VALUES(3,'Umbral','rec')
COMMIT
INSERT INTO USUARIO VALUES(1,'C','C','A ')
COMMIT
DISCONNECT
